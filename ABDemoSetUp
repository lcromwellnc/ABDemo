OpenShift AB Demo
=================

Scenario:This demo showcases a simple PHP based application running on OpenShift making use of source to image and weighted load balancing features.  The combined functionality allows for a deployment technique call AB(aka Canary) Testing. The real world application addresses the situation where a defect is identified in a production App and a patch is necessary.  The weighting feature allows for the deployment of the patched version of the App to be rolled out and consequently tested concurrently with the original version.  This allows for evaluation of the patched version for a limited number of transactions relative to the overall transaction volume.  Once the patched version is determined to be stable the weighting of the load balancer can be adjusted to 100% effectively retiring the original App instance.

Step 1 - Create a project and "Add to Project" a PHP template.  Name the app "abdemo". The sample App is on GitHub(https://github.com/lcromwellnc/ABDemo.git) and is specified in the project.  Click Advanced Options and disable Route creation.

Step 2 - Now create a Route but selecting "Applications | Routes".  Name the route "abroute" and accept defaults. We will go back to change this route once a second instance of the App is brought up.

Step 3 - At this point you can browse to the App - the actual hostname will be auto-generated by OpenShift but will look something like "abroute-myproject.127.0.0.1.nip.io".  Open a browser to the hostname or alternately run "curl" against the hostname "curl http://abroute-myproject.127.0.0.1.nip.io.

Step 4 - Open up a browser to Github to edit the abdemo repository. Edit the index.php file to change the text that gets echoed to the Browser or "curl". Mention that a Webhook could be used to have Github signal back to Openshift that new code is available so that a new build would kick off automatically.

Step 5 - Select "Add to Project" to create a second instance of the App - name it "abdemo-fix" and do not specify a route.  This will be done in a later step.  Specify the 